<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterí‚¤ ì¤„ë°”ê¿ˆ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            resize: vertical;
        }
        
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
        }
        
        .result {
            margin-top: 15px;
            padding: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 100px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>ğŸ¯ Enterí‚¤ ì¤„ë°”ê¿ˆ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="test-section">
        <h2>ğŸ“ í…ŒìŠ¤íŠ¸ 1: ê¸°ë³¸ Textarea</h2>
        <div class="instructions">
            <strong>í…ŒìŠ¤íŠ¸ ë°©ë²•:</strong>
            <ul>
                <li><strong>Enterí‚¤</strong>: ìƒˆ ì¤„ë¡œ ì´ë™ (ì¤„ë°”ê¿ˆ)</li>
                <li><strong>Shift+Enter</strong>: ê¸°ë³¸ ë¸Œë¼ìš°ì € ë™ì‘</li>
                <li>ì•„ë˜ í…ìŠ¤íŠ¸ ì˜ì—­ì—ì„œ Enterí‚¤ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”</li>
            </ul>
        </div>
        
        <textarea id="test-textarea-1" placeholder="ì—¬ê¸°ì„œ Enterí‚¤ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”...

ğŸ’¡ Enter: ì¤„ë°”ê¿ˆ, Shift+Enter: ê¸°ë³¸ë™ì‘">ì²« ë²ˆì§¸ ì¤„
ë‘ ë²ˆì§¸ ì¤„
ì„¸ ë²ˆì§¸ ì¤„</textarea>
        
        <div class="result" id="result-1"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“ í…ŒìŠ¤íŠ¸ 2: ê´€ë¦¬ì ëª¨ë‹¬ ìŠ¤íƒ€ì¼ Textarea</h2>
        <div class="instructions">
            <strong>ì‹¤ì œ ê´€ë¦¬ì ëª¨ë‹¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ê³¼ ë™ì¼í•œ textareaì…ë‹ˆë‹¤.</strong>
        </div>
        
        <textarea id="test-textarea-2" 
                  placeholder="ì£¼ìš” ì—…ë¬´ ë‚´ìš©ì„ í•œ ì¤„ì”© ì…ë ¥í•˜ì„¸ìš”
ì˜ˆ:
ë¯¼ì›ì¸ ì‘ëŒ€
ë°©ë¬¸Â·ìš°í¸Â·íŒ©ìŠ¤Â·êµ­ë¯¼ì‹ ë¬¸ê³  ë“± ì‹ ì²­ê²½ë¡œ í™•ì¸Â·ì•ˆë‚´
ë¯¼ì› ì‹ ì²­ì„œ ë° êµ¬ë¹„ì„œë¥˜ ì•ˆë‚´

ğŸ’¡ Enter: ì¤„ë°”ê¿ˆ, Shift+Enter: ê¸°ë³¸ë™ì‘"
                  style="width: 100%; height: 120px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; resize: vertical;">ë¯¼ì›ì¸ ì‘ëŒ€
ì‹ ì²­ê²½ë¡œ í™•ì¸
êµ¬ë¹„ì„œë¥˜ ì•ˆë‚´</textarea>
        
        <div class="result" id="result-2"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“ í…ŒìŠ¤íŠ¸ 3: ë™ì  ìƒì„± Textarea</h2>
        <div class="instructions">
            <strong>ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìƒˆë¡œìš´ textareaê°€ ìƒì„±ë©ë‹ˆë‹¤. ìƒˆë¡œ ìƒì„±ëœ textareaì—ì„œë„ Enterí‚¤ ê¸°ëŠ¥ì´ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</strong>
        </div>
        
        <button onclick="createNewTextarea()">ìƒˆ Textarea ìƒì„±</button>
        <div id="dynamic-container"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“Š í˜„ì¬ ìƒíƒœ</h2>
        <div id="status">ë¡œë“œ ì¤‘...</div>
    </div>
    
    <!-- Utils ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ -->
    <script src="js/logger.js"></script>
    <script src="js/utils.js"></script>
    
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // Enterí‚¤ ì¤„ë°”ê¿ˆ ê¸°ëŠ¥ í™œì„±í™”
            Utils.enableEnterNewlineForAll();
            
            // ì‹¤ì‹œê°„ ê²°ê³¼ í‘œì‹œ
            setupResultDisplays();
            
            // ìƒíƒœ ì—…ë°ì´íŠ¸
            updateStatus();
        });
        
        function setupResultDisplays() {
            // ê° textareaì˜ ë‚´ìš© ë³€í™”ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œ
            document.getElementById('test-textarea-1').addEventListener('input', function() {
                document.getElementById('result-1').textContent = 
                    'Length: ' + this.value.length + ' characters\nLines: ' + (this.value.split('\n').length) + 
                    '\nContent:\n' + this.value;
            });
            
            document.getElementById('test-textarea-2').addEventListener('input', function() {
                document.getElementById('result-2').textContent = 
                    'Length: ' + this.value.length + ' characters\nLines: ' + (this.value.split('\n').length) + 
                    '\nContent:\n' + this.value;
            });
            
            // ì´ˆê¸° ë‚´ìš© í‘œì‹œ
            document.getElementById('test-textarea-1').dispatchEvent(new Event('input'));
            document.getElementById('test-textarea-2').dispatchEvent(new Event('input'));
        }
        
        function createNewTextarea() {
            const container = document.getElementById('dynamic-container');
            const count = container.children.length + 1;
            
            const wrapper = document.createElement('div');
            wrapper.style.marginTop = '15px';
            
            const textarea = document.createElement('textarea');
            textarea.id = 'dynamic-textarea-' + count;
            textarea.placeholder = 'ë™ì  ìƒì„±ëœ Textarea ' + count + '\n\nEnterí‚¤ë¡œ ì¤„ë°”ê¿ˆì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!\n\nğŸ’¡ Enter: ì¤„ë°”ê¿ˆ, Shift+Enter: ê¸°ë³¸ë™ì‘';
            textarea.value = 'ë™ì  ìƒì„± í…ŒìŠ¤íŠ¸ ' + count + '\nìƒˆë¡œìš´ ì¤„\në˜ ë‹¤ë¥¸ ì¤„';
            textarea.style.cssText = 'width: 100%; height: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; resize: vertical; background: #fff5f5;';
            
            const result = document.createElement('div');
            result.className = 'result';
            result.id = 'dynamic-result-' + count;
            
            textarea.addEventListener('input', function() {
                result.textContent = 
                    'Length: ' + this.value.length + ' characters\nLines: ' + (this.value.split('\n').length) + 
                    '\nContent:\n' + this.value;
            });
            
            wrapper.appendChild(textarea);
            wrapper.appendChild(result);
            container.appendChild(wrapper);
            
            // ì´ˆê¸° ë‚´ìš© í‘œì‹œ
            textarea.dispatchEvent(new Event('input'));
            
            // ìƒˆë¡œ ìƒì„±ëœ textareaì— í¬ì»¤ìŠ¤
            textarea.focus();
        }
        
        function updateStatus() {
            const status = document.getElementById('status');
            const textareas = document.querySelectorAll('textarea');
            
            status.innerHTML = `
                <strong>âœ… Enterí‚¤ ì¤„ë°”ê¿ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤!</strong><br>
                <br>
                ğŸ“Š í˜„ì¬ í˜ì´ì§€ ì •ë³´:<br>
                â€¢ ì „ì²´ textarea ê°œìˆ˜: ${textareas.length}ê°œ<br>
                â€¢ Utils.enableEnterNewlineForAll() ì‹¤í–‰ ì™„ë£Œ<br>
                â€¢ MutationObserver í™œì„±í™”ë¨ (ìƒˆë¡œ ìƒì„±ë˜ëŠ” textarea ìë™ ì²˜ë¦¬)<br>
                <br>
                ğŸ¯ í…ŒìŠ¤íŠ¸ ë°©ë²•:<br>
                1. ê° textareaì—ì„œ Enterí‚¤ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”<br>
                2. Shift+Enter ì¡°í•©ë„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”<br>
                3. ë™ì  ìƒì„± ë²„íŠ¼ìœ¼ë¡œ ìƒˆ textareaë¥¼ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”<br>
                <br>
                âš ï¸ ì£¼ì˜ì‚¬í•­:<br>
                â€¢ Enterí‚¤ë§Œ ëˆ„ë¥´ë©´ ì¤„ë°”ê¿ˆì´ ë©ë‹ˆë‹¤<br>
                â€¢ Shift+EnterëŠ” ê¸°ë³¸ ë¸Œë¼ìš°ì € ë™ì‘ì„ ìœ ì§€í•©ë‹ˆë‹¤<br>
                â€¢ ì‹¤ì‹œê°„ìœ¼ë¡œ ê²°ê³¼ê°€ ì•„ë˜ ë°•ìŠ¤ì— í‘œì‹œë©ë‹ˆë‹¤
            `;
        }
        
        // í‚¤ ì´ë²¤íŠ¸ ë””ë²„ê¹… (ì„ íƒì‚¬í•­)
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName.toLowerCase() === 'textarea' && e.key === 'Enter') {
                console.log('Enter key pressed:', {
                    shiftKey: e.shiftKey,
                    ctrlKey: e.ctrlKey,
                    altKey: e.altKey,
                    defaultPrevented: e.defaultPrevented,
                    targetId: e.target.id
                });
            }
        });
    </script>
</body>
</html>